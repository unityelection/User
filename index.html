
<html lang="en">
	<head>
	<title>215-Kasba-Peth</title>
	<meta property="og:title" content='215-Kasba-Peth'/>
<meta property="og:image" content="http://drive.google.com/uc?export=view&id=1xKXMjLPo15g4HYeN9-rOpgq9F4NtvTxg"/>
<meta property="og:description" content="DESCRIPTION OF YOUR SITE"/>
<meta property='og:image:width' content='500' />
<meta property='og:image:height' content='500' />
<meta property="og:type" content='website'/>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  	
	
	<style>
		.labs{
			display:inline-block;
			width:100px;	
			vertical-align:middle;
		}
		
		.labs2{
			display:inline-block;
			width:350px;	
		}
		.labs4{
			display:inline-block;
			width:120px;	
		}
		.labs3{
			display:inline-block;
			width:350px;	
			height:50px;
			font-size: 0.9em;
			
		}
		
		
		.unselectable {
        -webkit-user-select: none;
        -webkit-touch-callout: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        color: #cc0000;
      }

	</style>
	<!-- <script>
	$('body').bind('copy paste',function(e) {
    e.preventDefault(); return false; 
	});
	</script> -->
	<script>
		function myfunction(){
			//alert(1); 
	try {
		$.ajax({
			type: "POST",
			
			
			//data: '{ "messaging_product": "whatsapp", "to": "91'+ mobileno +'", "type": "template", "template": { "name": "voter_details", "language": { "code": "en_US" },"components": [{"type": "body","parameters":[{"type": "text","text": "'+ msg +'"}]}]} }',  //single verialbe
			//	 data: '{ "messaging_product": "whatsapp", "to": "91'+ item +'", "type": "template", "template": { "name": "status","language":         { "code": "en_US" },"components": [{"type": "body","parameters":[{"type": "text","text": "'+ msg +'"},{"type": "text","text": "'+ details +'"},{"type": "text","text": "'+ footer +'"}]}]} }', 
			data: '{ "messaging_product": "whatsapp", "to": "918421915272", "type": "template", "template": { "name": "best_wishes", "language": { "code": "en_US" } } }',

			url: "https://graph.facebook.com/v15.0/117456244599200/messages",
			contentType: "application/json;",
			async: true,
			dataType: "json",
			headers: { "Authorization": "Bearer EAAXURafJFZCABAGrWN0iCXQ4InEEeoassp9lruWPZBhB5wPB44X8ZCI9vqo3ODiC1ncClRUAzYu5XsxEE7sXWBlXG0dK4nv2PHR8FbzbKto2ZBnWRdTmXj2eQ0OzU73O7RCwhgybUMPxztpHSjSyNi8T3KSymLsqix6xKyRL6bnKZCYz7iZBIZCKZBZAniiIA2AzsnZAiyYIvIw5j5GvkzVlP9" },
			success: function (response) {
			if(arr.length==i){
				alert("Sent" + JSON.stringify(response));
				i=0;
				}
			},
			failure: function (response) {
				alert("Fail" + JSON.stringify(response));
			},
			error: function (response) {
				alert("error" + JSON.stringify(response));
			}
		});
	} catch (err) {
		alert(err);
	}
}

</script>
	</head>
	
	<!-- <body oncopy="return false" oncut="return false" onpaste="return false" oncontextmenu="return false;"> -->
		<body >
<div class="Container unselectable mt-3">
	<div class="container-fluid text-center" style= "background-color:#ecd5e8; color:#542f06;">
	<br>
    
	<h3 style="font-family:Calibri Light;" ><b> 215-Kasba-Peth By Election 2023 </b></h3><br>
	<!--<h3 style="font-family:Calibri Light;"><b>Rashtrasant Tukadoji Maharaj Nagpur University, Nagpur</b></h3>-->
	<h3 style="font-family:Calibri Light;"><b></b></h3>
	
    </div>
	<div class="input-group mb-3 mt-3">
			  <input id="SearchBar" type="text" class="form-control" placeholder="Search A Record">
			<div class="input-group-append">
				<select class="form-select" id="CategorySelected">
					<option selected value="1">By Name</option>
					<option value="2">By WardNo</option>
					<option value="3">By Gender</option>
					<option value="4">By SrNo</option>
					<option value="5">By Address</option>
				</select>
			  <button id ="SearchBtn" class="btn btn-outline-secondary ml-1" type="button" >Search</button>
			</div>
	</div>
		
	<table class="table">
		<thead>
			<!-- <th>SrNo</th> -->
			<th>ConstNo</th>
			<th>SrNo</th>
			<th>FullNameEnglish</th>
			<th>Taluka</th>
			<th>MobileNo</th>
			<!-- <th>Control Center</th> -->
		</thead>
		
		<tbody id="tbody1">
			
		</tbody>
	</table>	
	</div>
	
	<!-- Button trigger modal 
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter" onclick="FillTboxes(null)">Add New Record</button> -->

	<!-- Modal Start-->
	<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
		  <div class="modal-header">
			<h5 class="modal-title" id="exampleModalLongTitle">Voter Details</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
			  <span aria-hidden="true">&times;</span>
			</button>
		  </div>
		  <div class="modal-body">
			<label class="labs">WardNo:</label>
			<input class="labs4" type="text" id="ConstMod"> <br>
			<label class="labs">SrNo:</label>
			<input class="labs4" type="text" id="SrNoMod"> 
			<label class="labs">Gender:</label>
			<input class="labs4" type="text" id="GenMod"> <br>
			<label class="labs">Name:</label>
			<input class="labs2" type="text" id="FullNameEnglishMod"> <br>
			<label class="labs">MobileNo:</label>
			<input class="labs2" type="text" id="PhoneNoMod"> <br>
			<label class="labs">Address:</label>
			<input class="labs2" type="text" id="AddressMod"> <br>
			<label class="labs" style="margin-top:-40px;">BoothName:</label>
			<textarea class="labs3"  id="BoothMod"></textarea> <br>
		  </div>
		  <div class="modal-footer">
			<!-- <button id="AddModBtn" type="button" class="btn btn-primary" onclick="AddStd()">Add New Record</button> -->
			<button id="UpdModBtn" type="button" class="btn btn-success" onclick="UpdStd()"> Update Record</button>
			<!-- <button id="DelModBtn" type="button" class="btn btn-danger" onclick="DelStd()"> Delete Record</button> -->
		  </div>
		</div>
	  </div>
	</div>
	<!-- Modal End-->

<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script> 

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

	<script id="MainScript">
	//---------------CONFIGURATION---------------------------//
	const firebaseConfig = {
			apiKey: "AIzaSyCop1_0QPwa4Z-_ihlOJVjyKWsTqQjtmDU",
			authDomain: "kasba-peth.firebaseapp.com",
			databaseURL: "https://kasba-peth-default-rtdb.firebaseio.com",
			projectId: "kasba-peth",
			storageBucket: "kasba-peth.appspot.com",
			messagingSenderId: "999795612338",
			appId: "1:999795612338:web:6daca9b9ee168a454107ab",
			measurementId: "G-060C9FN9DZ"
			};
        firebase.initializeApp(firebaseConfig);
		var studentNo, Whatsapp;
		<!-- const database = getDatabase(app); -->
		 
	//---------------GET ALL DATA ---------------------------//

			function SelectAllData(){
				document.getElementById("tbody1").innerHTML="";
				studentNo=0;
				
				firebase.database().ref('StudentList').orderByChild('SrNo').limitToFirst(15).once('value', function(snapshot){
					snapshot.forEach(function(childSnapshot){
							// alert(Object.keys(childSnapshot.val())[0]);
							var constno = childSnapshot.val().ConstNo;
							var srno = childSnapshot.val().SrNo;
							var fullnameenglish = childSnapshot.val().FullNameEnglish;
							var gender = childSnapshot.val().Gender;
							var phoneno = childSnapshot.val().PhoneNo;
							var address = childSnapshot.val().Address;
							var booth = childSnapshot.val().Booth;
							AddItemToTABLE(constno,srno,fullnameenglish,gender,phoneno,address,booth);
						});
				});
			}

			
		window.onload = SelectAllData;
	//---------------FILLING THE TABLE ---------------------------//	
			
			var stdList =[];
			
			function AddItemToTABLE(constno,srno,fullnameenglish,gender,phoneno,address,booth){
				var tbody1 = document.getElementById('tbody1');
				var trow = document.createElement('tr');
				var td0 = document.createElement('td');
				td0.style.display="none";
				var td1 = document.createElement('td');
				var td2 = document.createElement('td');
				var td3 = document.createElement('td');
				var td4 = document.createElement('td');
				var td5 = document.createElement('td');
				var td6 = document.createElement('td');
				td6.style.display="none";
				var td7 = document.createElement('td');
				td7.style.display="none";
				stdList.push([constno,srno,fullnameenglish,gender,phoneno,address,booth]);
				td0.innerHTML= ++studentNo;
				td1.innerHTML= constno;
				td2.innerHTML= srno;
				td3.innerHTML= fullnameenglish;
				td4.innerHTML= gender;
				td5.innerHTML= phoneno;
				td6.innerHTML= address;
				td7.innerHTML= booth;
				td1.classList +="constField";
				td2.classList +="srnoField";
				td3.classList +="fullnameenglishField";
				td4.classList +="genField";
				td5.classList +="phonenoField";
				td6.classList +="addressField";
				td7.classList +="boothField";
				trow.appendChild(td0);
				trow.appendChild(td1);
				trow.appendChild(td2);
				trow.appendChild(td3);
				trow.appendChild(td4);
				trow.appendChild(td5);
				trow.appendChild(td6);
				trow.appendChild(td7);
				
				var ControlDiv = document.createElement("div");
				//ControlDiv.innerHTML = '<button type="button" class="btn btn-primary my-2" data-toggle="modal" data-target="#exampleModalCenter" onclick="FillTboxes(null)">AddNew </button>' 
				ControlDiv.innerHTML += '<button type="button" class="btn btn-primary my-2 ml-2" data-toggle="modal" data-target="#exampleModalCenter" onclick="FillTboxes('+studentNo+')">View </button>'
				  //ControlDiv.innerHTML += '<button type="button" class="btn btn-primary my-2 ml-2" data-toggle="modal" data-target="#exampleModalCenter" onclick="FillTboxes()"><a href="https://api.whatsapp.com/send?phone=+918421915272&text='+Whatsapp+'" target="_blank"><img src="http://drive.google.com/uc?export=view&id=1xKXMjLPo15g4HYeN9-rOpgq9F4NtvTxg" class="rounded-circle" alt="WhatsApp" width="25" height="25" ></a>  </button>' https://electioninfomediaservices.on.drv.tw/aurangabadteachersvoterlist.html
				ControlDiv.innerHTML += '<button type="button" class="btn btn-primary my-2 ml-2"  onclick="FillTboxes('+studentNo+')"><a href="https://api.whatsapp.com/send?phone=+91'+phoneno+'&text='+"*WardNo* : "+constno+"%0a" +"*SrNo* : "+srno+"%0a" +"*Name* : " +fullnameenglish+"%0a" +"*Gender* : "+gender+"%0a" +"*Address* : " +address+"%0a" +"*Booth* : " +booth+ "%0a%0a*215-Kasba-Peth By Election-2023* %0a"+ 'https://unityinfotechelection1.on.drv.tw/215_Kasba_Peth_Election2023_2.html " target="_blank"><img src="http://drive.google.com/uc?export=view&id=1xKXMjLPo15g4HYeN9-rOpgq9F4NtvTxg" class="rounded-circle" alt="WhatsApp" width="25" height="25" ></a>  </button>'
				ControlDiv.innerHTML += '<button type="button" class="btn btn-primary my-2 ml-2"  onclick="myfunction()"> View1 </button>'//
				
				
				trow.appendChild(ControlDiv);
				tbody1.appendChild(trow);
				
			}
			//-- stdList.push([name,constno,gender,srno,address]); --//
			var ModConst = document.getElementById('ConstMod');
			var ModSrNo = document.getElementById('SrNoMod');
			var ModFullNameEnglish = document.getElementById('FullNameEnglishMod');
			var ModGen = document.getElementById('GenMod');
			var ModPhoneNo = document.getElementById('PhoneNoMod');
			var ModAddress = document.getElementById('AddressMod');
			var ModBooth = document.getElementById('BoothMod');
			
			var BTNmodAdd = document.getElementById('AddModBtn');
			var BTNmodUpd = document.getElementById('UpdModBtn');
			var BTNmodDel = document.getElementById('DelModBtn');
			
			
			function FillTboxes(index){
				//alert(index)

				if(index==null){
					
					ModConst.value = "";
					ModSrNo.value = "";
					ModFullNameEnglish.value = "";
					ModGen.value = "";
					ModPhoneNo.value = "";
					ModAddress.value = "";
					ModBooth.value = "";
					ModSrNo.disabled=false;
					BTNmodAdd.style.display='inline-block';
					BTNmodUpd.style.display='none';
					BTNmodDel.style.display='none';
				}
				
				else{
				--index;
				//console.log(JSON.stringify(stdList[index]));
				ModConst.value = stdList[index][0];
				ModSrNo.value = stdList[index][1];
				ModFullNameEnglish.value = stdList[index][2];
				ModGen.value = stdList[index][3];
				ModPhoneNo.value = stdList[index][4];
				ModAddress.value = stdList[index][5];
				ModBooth.value = stdList[index][6];
				
				ModSrNo.disabled=true;
				//BTNmodAdd.style.display='none';
				BTNmodUpd.style.display='inline-block';
				//BTNmodDel.style.display='inline-block';
				}
			
			}
			
			function AddStd(){
			//-- alert(ModRoll.value); -->
				firebase.database().ref("StudentList/"+ModSrNo.value).set(
					{
						FullNameEnglish:ModName.value,
						SrNo:ModSrNo.value,
						ConstNo:ModConst.value,
						Gender:ModGen.value,
						PhoneNo:ModPhoneNo.value
					},
					(error) =>{
						if(error){
							alert("record was Not Added");
						}
						else{
							alert("record was Added");
							SelectAllData();
							$("#exampleModalCenter").modal('hide');
						}
					}
				)
			}
			
			function UpdStd(){
				//-- alert(ModRoll.value); -->
				firebase.database().ref("StudentList/"+(ModSrNo.value-1)).update(
					{
						FullNameEnglish:ModFullNameEnglish.value,
						ConstNo:ModConst.value,
						Gender:ModGen.value,
						PhoneNo:ModPhoneNo.value
					},
					(error) =>{
						if(error){
							alert("record was Not Updated");
						}
						else{
							alert("record was  Updated");
							SelectAllData();
							$("#exampleModalCenter").modal('hide');
						}
					}
				)
			}
			
			function DelStd(){
			//-- alert(ModRoll.value-1); -->
				firebase.database().ref("StudentList/"+(ModSrNo.value-1)).remove().then(
					function(){
						alert("record was  Deleted");
							SelectAllData();
							$("#exampleModalCenter").modal('hide');
					}
				)
			}

			
			// Search data
  
			  var SearchBar = document.getElementById("SearchBar");
			  var searchBtn = document.getElementById("SearchBtn");
			  var category = document.getElementById("CategorySelected");
			  var tbody = document.getElementById("tbody1");
  
			  function SearchTable(Category){

			  //-- alert(Category); -->
			  try{
					var filter = SearchBar.value;
					var tr = tbody.getElementsByTagName("tr");
					var found;
					var itemsRef;
					//alert(Category);
					if(Category=="SrNo"){
					//	alert(SearchBar.value);
						itemsRef = firebase.database().ref('StudentList').orderByChild(Category).startAt(SearchBar.value).limitToFirst(10);
					}else{
						itemsRef = firebase.database().ref('StudentList').orderByChild(Category).startAt(SearchBar.value.toUpperCase()).endAt(SearchBar.value.toLowerCase()).limitToFirst(15);
					}
					//const itemsRef = firebase.database().ref('StudentList').orderByChild(Category).startAt(SearchBar.value.toUpperCase()).endAt(SearchBar.value.toLowerCase()).limitToFirst(15);

				// Retrieve the data
				itemsRef.once('value', (snapshot) => {

					snapshot.forEach(function(childSnapshot){
						// alert(childSnapshot.val().SrNo) 
							var constno = childSnapshot.val().ConstNo;
							var srno = childSnapshot.val().SrNo;
							var fullnameenglish = childSnapshot.val().FullNameEnglish;
							var gender = childSnapshot.val().Gender;
							var phoneno = childSnapshot.val().PhoneNo;
							var address = childSnapshot.val().Address;
							var booth = childSnapshot.val().Booth;
							AddItemToTABLE(constno,srno,fullnameenglish,gender,phoneno,address,booth);
						});
				});


					// for(let i = 0; i < tr.length; i++){
						
					// 	var td = tr[i].getElementsByClassName(Category);
						
					// 	for (let j = 0; j < td.length; j++){
					// 		if(td[j].innerHTML.toUpperCase().indexOf(filter) > -1){
					// 			found=true;
					// 	}
					// 	}
					
					// if(found){
					// 	tr[i].style.display="";
					// 	found=false;
					// 	}
					// 	else{
					// 		tr[i].style.display="none";
							
					// 	}
					// }
				}
				catch(error)
				{alert(error)}
				}				
				
				function SearchTableByExactValues(Category){
				alert(Category); 
				try{
				
					var filter = SearchBar.value.toUpperCase();
					var tr = tbody1.getElementsByTagName("tr");
					var found;
					for(let i = 0; i < tr.length; i++){
						
						var td = tr[i].getElementsByClassName(Category);
						
						for (let j = 0; j < td.length; j++){
							if(td[j].innerHTML.toUpperCase()==filter){
								found=true;
						}
					}
					
					if(found){
						tr[i].style.display="";
						found=false;
						}
						else{
							tr[i].style.display="none";
							
						}
					}
				}
				catch(error)
				{alert(error)}
				}
		
				searchBtn.onclick = function(){
				//-- alert(category.value); -->
				if(SearchBar.value==""){
							SelectAllData();
							
					}else{

				document.getElementById('tbody1').innerHTML='';
				// document.getElementById('tbody1').removeChild('');


				//  td1.classList +="constField";
				// td2.classList +="srnoField";
				// td3.classList +="fullnameenglishField";
				// td4.classList +="genField";
				// td5.classList +="phonenoField";
				// td6.classList +="addressField";
				// td7.classList +="boothField";



					if(SearchBar.value==""){
						SearchTable("fullnameenglishField");
					}	
					else if(category.value==1)
					SearchTable("FullNameEnglish");
					
					else if(category.value==2)
					SearchTable("ConstNo");
						
					else if(category.value==3)
					SearchTable("Gender");
					
					else if(category.value==4)
					SearchTable("SrNo");

					 //else if(category.value==4)
					 //SearchTableByExactValues("SrNo");
					
					else if(category.value==5)
					SearchTable("Address");
					
					else if(category.value==6)
					SearchTable("addmField");
					
					else if(category.value==7)
					SearchTable("boothField");
						
				}}
				
				SearchBar.onkeypress = function(event){
					if(event.keyCode==13){
						searchBtn.click();
							
						
					}

				}
			
</script>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


	

		
		<!-- <script>
	document.onkeydown=function(e)
	{
		if(event.keyCode == 123)
		{
			return false;
		}
		if(e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0))
		{
			return false;
		}
		if(e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0))
		{
			return false;
		}
		if(e.ctrlKey && e.keyCode == 'C'.charCodeAt(0))
		{
			return false;
		}
		if(e.ctrlKey && e.keyCode == 'c'.charCodeAt(0))
		{
			return false;
		}
		if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0))
		{
			return false;
		}
		}
	
            
        </script> -->


	</body>
</html>
